<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragment/reference :: referenceFragment" ></th:block>
</head>
<body>
    <h1>view::monitoring > coupled data</h1>
    <div class="container">
        <div class="accordion">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-one" aria-expanded="true" aria-controls="collapse-one">
                    member with authority
                    </button>
                </h2>
                <div id="collapse-one" class="accordion-collapse collapse show">
                    <div class="accordion-body">
                        <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>member-id</th>
                                <th>has-authority</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="item : ${memberWithAuthority}">
                                <td th:text="${item.memberId}"></td>
                                <td>
                                    <div class="container">
                                        <ul class="list-group">
                                            <li class="list-group-item" th:each="hasAuthorityItem : ${item.hasAuthorityList}">
                                                <font th:text="${hasAuthorityItem}"></font>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-three" aria-expanded="true" aria-controls="collapse-three">
                    authority with function
                    </button>
                </h2>
                <div id="collapse-three" class="accordion-collapse">
                    <div class="accordion-body">
                        <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>authority-id</th>
                                <th>has-api</th>
                                <th>has-menu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="item : ${authorityWithFunction}">
                                <td th:text="${item.authorityId}"></td>
                                <td>
                                    <div class="container">
                                        <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>name</th>
                                                <th>mathod</th>
                                                <th>path</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="hasApiItem : ${item.hasApiList}">
                                                <td th:text="${hasApiItem.name}"></td>
                                                <td th:text="${hasApiItem.method}"></td>
                                                <td th:text="${hasApiItem.path}"></td>
                                            </tr>
                                        </tbody>
                                        </table>
                                    </div>
                                </td>
                                <td>
                                    <div class="container">
                                        <ul class="list-group">
                                            <li class="list-group-item">
                                                <div th:text="${item.hasMenu.name}"></div>
                                                <ul class="list-group" th:if = "${item.hasMenu.childList != null}">
                                                    <li class="list-group-item" th:each="firstDepthMenu : ${item.hasMenu.childList}">
                                                        <div th:text="${firstDepthMenu.name}"></div>
                                                        <ul class="list-group" th:if = "${firstDepthMenu.childList != null}">
                                                           <li class="list-group-item" th:each="secondDepthMenu : ${firstDepthMenu.childList}">
                                                               <div th:text="${secondDepthMenu.name}"></div>
                                                           </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>